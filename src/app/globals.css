@import "tailwindcss";
@plugin "@tailwindcss/typography";

@layer base {
  body {
    font-family: var(--font-inter), system-ui, sans-serif;
  }
}
.prose {
  --tw-prose-body: var(--color-text-primary);
  --tw-prose-headings: var(--color-text-primary);
  --tw-prose-links: var(--color-accent);
  --tw-prose-bold: var(--color-text-primary);
  --tw-prose-counters: var(--color-text-muted);
  --tw-prose-bullets: var(--color-text-muted);
  --tw-prose-hr: var(--color-border);
  --tw-prose-quotes: var(--color-text-secondary);
  --tw-prose-quote-borders: var(--color-border);
  --tw-prose-captions: var(--color-text-muted);
  --tw-prose-code: var(--color-accent);
  --tw-prose-pre-code: var(--color-text-primary);
  --tw-prose-pre-bg: var(--color-surface);
}
/* VS Code–style code blocks */
.prose pre {
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 1rem 1.25rem;
  overflow-x: auto;
  font-size: 0.875rem;
  line-height: 1.6;
}

/* Inline code */
.prose code {
  font-family: var(--font-mono), ui-monospace, SFMono-Regular, Menlo, monospace;
  font-size: 0.875em;
}

/* Inline code only (not blocks) */
.prose :not(pre) > code {
  background-color: color-mix(
    in srgb,
    var(--color-surface) 70%,
    transparent
  );
  padding: 0.15em 0.35em;
  border-radius: 4px;
  border: 1px solid var(--color-border);
}

/* Reset typography plugin defaults */
.prose pre code {
  background: none;
  padding: 0;
  border: none;
}

/* 1️⃣ Register tokens with Tailwind (compile-time) */
@theme {
  --color-bg: var(--color-bg);
  --color-surface: var(--color-surface);
  --color-border: var(--color-border);

  --color-text-primary: var(--color-text-primary);
  --color-text-secondary: var(--color-text-secondary);
  --color-text-muted: var(--color-text-muted);

  --color-accent: var(--color-accent);

  --radius-sm: 4px;
  --transition-fast: 150ms ease;
}

/* 2️⃣ Dark mode values (runtime) */
html.dark {
  --color-bg: #1e1e1e;
  --color-surface: #252526;
  --color-border: #2d2d2d;

  --color-text-primary: #d4d4d4;
  --color-text-secondary: #9da1a6;
  --color-text-muted: #7a7f85;

  --color-accent: #3794ff;
}

/* 3️⃣ Light mode values (runtime) */
html.light {
  --color-bg: #ffffff;
  --color-surface: #f5f5f5;
  --color-border: #e5e7eb;

  --color-text-primary: #111827;
  --color-text-secondary: #374151;
  --color-text-muted: #6b7280;

  --color-accent: #ff5d29;
}
